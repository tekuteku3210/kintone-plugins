# タブ表示プラグイン

kintoneのレコード詳細画面をタブで整理し、見やすく表示するプラグインです。

## 特徴

- **シンプルな設定**: ドラッグ&ドロップで簡単にタブを設定
- **水平タブUI**: ブラウザのタブと同じ、使い慣れたデザイン
- **無料**: 最大5タブまで無料で利用可能
- **レスポンシブ**: PC、タブレット、スマホに対応

## 使い方

### 1. プラグインのインストール

1. kintoneの管理画面からプラグインをインストール
2. 対象のアプリにプラグインを追加

### 2. タブの表示位置を設定（必須）

**重要**: このプラグインを使用するには、レコード詳細画面にスペースフィールドを配置する必要があります。

1. kintoneアプリの設定画面で「フォーム」を開く
2. 左側のフィールドパレットから「スペース」フィールドをドラッグ&ドロップ
3. **レコード詳細画面のフィールドエリアの先頭**（レコード番号の上など）にスペースフィールドを配置
   - ⚠️ **一覧画面のヘッダー部分には配置しないでください**（スペースフィールドは一覧画面には設置できません）
4. スペースフィールドをクリックして設定画面を開く
5. 「要素ID」欄に任意のID（例: `tabview-space`）を入力
6. フォーム設定を保存してアプリを更新
7. プラグイン設定画面で、上記で設定したスペースフィールドIDを選択

> **注意**: スペースフィールドは**レコード詳細・編集・作成画面のフィールドエリア内**に配置してください。
> アプリヘッダー部分に配置すると、レイアウトが崩れます。

### 3. タブの設定

1. プラグインの設定画面を開く
2. 「+ タブを追加」ボタンをクリック
3. タブカードをクリックして選択
4. タブ名を編集（✏️アイコンをクリック）
5. 表示したいフィールドにチェックを入れる
   - 検索ボックスでフィールドを絞り込み可能
   - 他のタブで使用中のフィールドは使用状況が表示されます
6. 変更は自動保存されます
7. 「設定を保存」ボタンをクリック

### 4. レコード詳細画面で確認

レコード詳細画面を開くと、設定したタブが表示されます。

## 開発

### 環境構築

```bash
# 依存関係のインストール
npm install

# 開発モードでビルド（ファイル監視）
npm run dev

# 本番用ビルド
npm run build

# プラグインのパッケージング
npm run package

# kintoneにアップロード
npm run upload -- --domain your-domain.cybozu.com --username your-username --password your-password
```

### ディレクトリ構成

```
tab-view/
├── src/                      # ソースコード
│   ├── config/               # 設定画面
│   ├── desktop/              # レコード画面
│   ├── types/                # 型定義
│   └── utils/                # ユーティリティ
├── plugin/                   # ビルド後のファイル
│   ├── manifest.json
│   ├── icon.png
│   ├── js/
│   ├── css/
│   └── html/
├── package.json
├── tsconfig.json
├── webpack.config.js
└── README.md
```

## プライバシーについて

このプラグインは、サービス改善のために以下の匿名化された利用統計情報を収集します:

### 収集する情報
- **プラグイン起動回数**: レコード詳細画面を開いた回数（DAU/MAU測定用）
- **初回アクティベーション**: アプリごとの初回起動イベント
- **タブ切り替え回数**: どのタブがよく使われているかの統計
- **プラグインバージョン**: 使用中のプラグインバージョン
- **アプリID**: kintoneアプリID（環境を識別するため）

### 収集しない情報
- ❌ **個人情報**: ユーザー名、メールアドレス、IPアドレスなど
- ❌ **レコードデータ**: フィールドの値、レコードの内容
- ❌ **設定情報**: タブ名、フィールド名、アプリ設定
- ❌ **セッション記録**: 画面操作の録画やスクリーンショット

### プライバシー保護
- **IPアドレス匿名化**: IPアドレスは収集されません
- **セッション録画OFF**: 画面操作の録画は行いません
- **自動キャプチャOFF**: クリック・入力などの自動トラッキングは無効
- **ローカルストレージのみ**: データはブラウザのlocalStorageに保存され、外部送信されません（初回起動フラグのみ）

### データの用途
収集したデータは以下の目的でのみ使用されます:
- プラグインの利用状況の把握（DAU/MAU）
- 機能改善の優先度決定
- バグ修正・パフォーマンス改善

### オプトアウト
利用統計の送信を停止したい場合は、ブラウザの開発者ツールで以下を実行してください:
```javascript
posthog.opt_out_capturing();
```

詳細は[プライバシーポリシー](https://tekuteku3210.github.io/kintone-plugins/privacy-policy.html)をご覧ください。

## ライセンス

MIT
